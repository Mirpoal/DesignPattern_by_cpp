### UML类图关系

-----------

> 1. 泛化：
>
>    指的是一个类（称为子类、子接口）继承另一个类（父类、父接口）的功能，并可以增加它自己的新功能的能力，继承是类与类或者接口与接口之间最常见的关系；在 Java 中这种关系通过关键字 extends 标识。在 C++ 中通过派生列表表示父类或者基类，一个派生类通过冒号继承基类，C++支持多继承，但不推荐使用。
>
> 2. 实现：
>
>    实现是类与接口之间最常见的关系，一个类实现<u>一个或者多个</u>接口的功能，Java 中通过 implements 关键字标识，C++中通过一个类实现抽象基类中的纯虚函数标识。
>
> 3. 依赖：
>
>    简单的理解就是一个类A使用到一个类B， 而这种使用关系是具有偶然性的、临时性的、非常弱的，但是类B的变化会影响到类A。供应者是独立的，这是因为更改使用者并不会影响到供应者，复合依赖倒置原则。
>
>    依赖关系指示使用者类执行下列其中一项操作：
>
>    * 临时使用具有全局作用域的供应者类
>    * 将供应者类临时用作它的某个操作的参数
>    * 将供应者类临时用作它的某个操作的局部变量
>    * 将消息发送至供应者类
>
>    参考：[IBM UML依赖关系](<https://www.ibm.com/support/knowledgecenter/zh/SS4JE2_7.5.5/com.ibm.xtools.viz.cpp.doc/topics/cdependency.html>)
>
> 4. 关联：
>
>    关联是一种结构关系，它体现的是两个类、或者类与接口语义级别的一种强依赖关系，这种关系比依赖强，不存在依赖关系的偶然性、关系也不是临时的，一般是长期的，而且双方的关系一般是平等的，关联可以是单向、双向的；表现在代码层面，为被关联类B以类属性的形式出现在关联类A中，也可能是关联类A引用了一个类型为被关联类B的全局变量； 
>
>    参考：[IBM UML关联关系](<https://www.ibm.com/support/knowledgecenter/zh/SS4JE2_7.5.5/com.ibm.xtools.viz.cpp.doc/topics/cassociation.html>)  、 
>
> 5. 聚合：
>
>    聚合是关联关系的一种特例，他体现的是整体与部分、拥有的关系，即has-a的关系，此时整体与部分之间是可分离的，他们可以具有各自的生命周期，部分可以属于多个整体对象，与组合关系不同的是：整体和部分不是强依赖关系
>
> 6. 组合：
>
>    组合也是关联关系的一种特例，他体现的是一种contains-a的关系，这种关系比聚合更强，也称为强聚合；他同样体现整体与部分间的关系，但此时整体与部分是不可分的，整体的生命周期结束也就意味着部分的生命周期结束；比如你和你的大脑；表现在代码层面，和关联关系是一致的，只能从语义级别来区分；
>
> -------



### 关系之间的区别

> 1. 聚合和组合：
>
>    * 聚合与组合都是一种结合关系，只是额外具有整体-部分的意涵。
>    * 部件的生命周期不同
>      * 聚合关系中，整件不会拥有部件的生命周期，所以整件删除时，部件不会被删除。再者，多个整件可以共享同一个部件。
>      * 组合关系中，整件拥有部件的生命周期，所以整件删除时，部件一定会跟着删除。而且，多个整件不可以同时间共享同一个部件。
>    * 聚合关系是“has-a”关系，组合关系是“contains-a”关系。
>
> 2. 关联和聚合：
>
>    * 表现在代码层面，和关联关系是一致的，只能从语义级别来区分
>    * 关联和聚合的区别主要在语义上，关联的两个对象之间一般是平等的，例如你是我的朋友，聚合则一般不是平等的。
>    * 关联是一种结构化的关系，指一种对象和另一种对象有联系。
>    * 关联和聚合是视问题域而定的，例如在关心汽车的领域里，轮胎是一定要组合在汽车类中的，因为它离开了汽车就没有意义了。但是在卖轮胎的店铺业务里，就算轮胎离开了汽车，它也是有意义的，这就可以用聚合了。
>
> 3. 关联和依赖：
>
>    * 关联关系中，体现的是两个类、或者类与接口之间语义级别的一种强依赖关系；这种关系比依赖更强、不存在依赖关系的偶然性、关系也不是临时性的，一般是长期性的，而且双方的关系一般是平等的。
>    * 依赖关系中，可以简单的理解，就是一个类A使用到了另一个类B，而这种使用关系是具有偶然性的、临时性的、非常弱的，但是B类的变化会影响到A。
>
> 4. 综合比较：
>
>    这几种关系都是语义级别的，所以从代码层面并不能完全区分各种关系；但总的来说，后几种关系所表现的强弱程度依次为:
>
>    ​	<b>组合 > 聚合 > 关联 > 依赖</b>

-----



### 看懂UML类图关系中的线条和箭头

参考： [UML 关系图](<https://design-patterns.readthedocs.io/zh_CN/latest/read_uml.html>)

